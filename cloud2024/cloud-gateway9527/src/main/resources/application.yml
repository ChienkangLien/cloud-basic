server:
  port: 9527
 
spring:
  application:
    name: cloud-gateway #以微服務注冊進consul或nacos服務列表內
    
  ##spring cloud consul for service discovery 
  cloud:
    consul:
      host: localhost
      port: 8500
      discovery:
        service-name: ${spring.application.name}
        heartbeat:
          enabled: true

    ##spring cloud gateway
    gateway:
      routes:
        - id: pay_getById                           # 路由的ID(類似mysql主鍵ID)，沒有固定規則但要求唯一，建議配合服務名
#          uri: http://127.0.0.1:8001                # 匹配後提供服務的路由地址(寫死)
          uri: lb://cloud-payment-service           # 匹配後提供服務的路由地址(動態)
          predicates:
            - Path=/pay/gateway/get/**              # 斷言，路徑相匹配的進行路由
 
        - id: pay_getInfo                           # 路由的ID(類似mysql主鍵ID)，沒有固定規則但要求唯一，建議配合服務名
#          uri: http://127.0.0.1:8001                # 匹配後提供服務的路由地址(寫死)
          uri: lb://cloud-payment-service           # 匹配後提供服務的路由地址(動態)
          predicates:
            - Path=/pay/gateway/info/**             # 斷言，路徑相匹配的進行路由